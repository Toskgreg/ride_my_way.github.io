<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>EnterPassword</title>
    <link rel="stylesheet" type="text/css" href="css/mystyle4.css">
</head>
<body>
    <h1></h1>
    <div id="content">
        <div id="background"></div>
        <p id="heading">Sign In</p>
        <form autocomplete="on" method="POST">
            <p class="formElement">Enter Password</p>
            <input type="password" id="password" placeholder="Enter Password" required>
        </form>
        <button class="button" onclick="next()"><span>Next</span></button>
        <p id="forgot"> <a href="./ForgotPassword.html">Forgot Password?</a></p>
    </div>
    <script>
        function next() {
            var username = sessionStorage.getItem("user");
            var retrieved = localStorage.getItem(username);
            var user = JSON.parse(retrieved); 

            sessionStorage.setItem("userType", user.userType);

            var password = document.getElementById("password").value;
            if (!password) {
                alert("Please enter your password");
                return;
            }
            if (user.password != password) {
                alert("Incorrect password");
            }
            else {
                window.location.href = "MyAccount.html";
            }
        }
    </script>
</body>
</html>